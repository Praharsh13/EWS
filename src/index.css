@import "tailwindcss";

/* ==== DARK THEME BY DEFAULT (matches landing) ==== */
:root {
  --bg: #0b1020;           /* deep canvas */
  --bg-soft: #0f172a;      /* slate-900 */
  --fg: #e2e8f0;           /* slate-200 */
  --muted: #94a3b8;        /* slate-400 */

  --card: #0b1220;         /* near slate-950 */
  --card-border: #1f2937;  /* slate-800 */

  --brand: #60a5fa;        /* blue-400 */
  --brand-2: #f9a8d4;      /* pink-300 */

  --ok:#22c55e; --warn:#fbbf24; --danger:#ef4444;

  --radius: 16px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.28), 0 1px 1px rgba(0,0,0,.16);
  --shadow-md: 0 8px 20px rgba(3,7,18,.35);
  --shadow-lg: 0 22px 50px rgba(3,7,18,.48);
}

/* Optional light set if you toggle later */
.light {
  --bg: #f8fafc; --bg-soft:#ffffff; --fg:#0f172a; --muted:#475569;
  --card:#ffffff; --card-border:#e2e8f0;
  --brand:#2563eb; --brand-2:#f472b6;
  --ok:#16a34a; --warn:#f59e0b; --danger:#dc2626;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.08), 0 1px 1px rgba(0,0,0,.06);
  --shadow-md: 0 8px 20px rgba(2,6,23,.12);
  --shadow-lg: 0 22px 50px rgba(2,6,23,.18);
}

/* === GLOBAL BACKGROUND FAILSAFE (kills accidental white bg) === */
html, body, #root { height: 100%; }
html, body, #root { background: var(--bg) !important; color: var(--fg); }

/* Cinematic page background (soft gradients over deep canvas) */
.app-bg {
  min-height: 100%;
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(96,165,250,.14), transparent 60%),
    radial-gradient(900px 500px at 120% 10%, rgba(249,168,212,.12), transparent 50%),
    var(--bg);
  color: var(--fg);
}

/* Surfaces & cards */
.surface { background: var(--bg-soft); }
.card { background: var(--card); border: 1px solid var(--card-border); border-radius: var(--radius); box-shadow: var(--shadow-sm); }
.card-hover:hover { box-shadow: var(--shadow-md); transform: translateY(-1px); transition: all .25s ease; }
.muted { color: var(--muted); }
.hr-line { height:1px; background: var(--card-border); margin: 24px 0; }

/* Buttons */
.btn { border:1px solid var(--card-border); border-radius: 12px; padding:.5rem .75rem; transition: all .2s; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.1)); color: var(--fg); }
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn-primary { border-color: transparent; background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#0b1220; font-weight:600; }

/* Dashboard hero (NO white backgrounds) */
.section { max-width: 1200px; margin: 0 auto; padding: 24px 16px; }
.dash-hero {
  position: relative; overflow: hidden; border-radius: 20px;
  border: 1px solid var(--card-border); background: var(--bg-soft); box-shadow: var(--shadow-lg);
}
.dash-hero-media {
  position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover;
  filter: saturate(1.05) contrast(1.05) brightness(.85);
  opacity: .28; pointer-events: none;
}
.dash-hero-overlay { position: relative; z-index: 2; padding: clamp(20px, 4vw, 48px); display: grid; gap: 16px; }
.dash-hero-tag { display:inline-flex; gap:.4rem; align-items:center; border:1px solid var(--card-border); border-radius:999px; padding:.25rem .6rem; font-size:.75rem; color:var(--muted); backdrop-filter: blur(6px); background: rgba(0,0,0,.2); }
.dash-hero-title { font-size: clamp(24px, 4.5vw, 44px); font-weight: 700; letter-spacing: .2px; }
.dash-hero-sub { color: var(--muted); max-width: 65ch; }

/* Triage (keep your improved pills) */
.triage-grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:.75rem;}
@media (min-width:640px){.triage-grid{grid-template-columns:repeat(2,minmax(0,1fr));}}
@media (min-width:1024px){.triage-grid{grid-template-columns:repeat(3,minmax(0,1fr));}}
.triage-pill{display:flex;align-items:center;gap:.6rem;border:1px solid var(--card-border);border-radius:999px;background:var(--card);padding:.55rem .8rem;box-shadow:var(--shadow-sm);transition:transform .15s,box-shadow .2s,border-color .2s;cursor:pointer}
.triage-pill:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.triage-pill[data-checked="true"]{border-color:var(--brand)}
.triage-dot{width:.65rem;height:.65rem;border-radius:999px;flex:0 0 auto}
.badge-soft{border:1px solid var(--card-border);border-radius:999px;padding:.15rem .45rem;font-size:.65rem;color:var(--muted)}
.progress-track{height:.5rem;background:var(--card-border);border-radius:999px;overflow:hidden}
.progress-fill{height:.5rem;background:var(--brand);transition:width .25s ease}

.select {
  appearance: none;
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--card-border);
  border-radius: 10px;
  padding: .5rem .9rem;
  font-size: .9rem;
  line-height: 1;
  box-shadow: var(--shadow-sm);
}
.select:focus { outline: 2px solid var(--brand); outline-offset: 2px; }
.select-wrap { position: relative; }
.select-wrap::after {
  content: "▾";
  position: absolute; right: .6rem; top: 50%; transform: translateY(-50%);
  pointer-events: none; color: var(--muted); font-size: .8rem;
}
.toolbar { display:flex; gap:.5rem; align-items:center; }

/* ---------- Sleek Chart Card ---------- */
.chart-card{
  position: relative;
  border-radius: var(--radius);
  background: var(--card);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: box-shadow .25s ease, transform .2s ease;
}
.chart-card:hover{ box-shadow: var(--shadow-md); transform: translateY(-1px); }

/* subtle gradient accent at top */
.chart-accent{
  position:absolute; inset:0 0 auto 0; height:4px;
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  opacity:.45;
}

/* header */
.chart-header{
  display:flex; align-items:flex-start; justify-content:space-between; gap:.75rem;
  border-bottom: 1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.chart-titles .section-title{ font-weight:700; letter-spacing:.2px; }
.chart-actions{ display:flex; gap:.5rem; align-items:center; }

/* toolbar */
.chart-toolbar{
  border-bottom: 1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.01), rgba(0,0,0,.04));
}

/* body area */
.chart-body{
  position: relative;
  display:block;
}

/* footer */
.chart-footer{
  border-top:1px solid var(--card-border);
  font-size:.85rem;
  color: var(--muted);
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
}

/* loading skeleton */
.skeleton{
  height:100%; display:grid; align-content:end; gap:10px;
  --sk: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
  background: repeating-linear-gradient(
    to top,
    transparent 0,
    transparent 6px,
    rgba(255,255,255,.02) 7px,
    transparent 14px
  );
  border-radius: 8px;
  overflow: hidden;
}
.sk-bar{
  height: 12px; width: 100%;
  background: rgba(255,255,255,.04);
  border-radius: 999px;
  position: relative;
  overflow:hidden;
}
.sk-bar::after{
  content:""; position:absolute; inset:0;
  background: var(--sk); animation: sk 1.2s linear infinite;
}
@keyframes sk { from{ transform: translateX(-100%);} to{ transform: translateX(100%);} }

/* empty state */
.chart-empty{
  height:100%; display:grid; place-items:center; gap:.5rem;
  color: var(--muted);
}
.empty-dot{
  width:10px; height:10px; border-radius:999px; background: var(--card-border);
}

/* compact control inputs align with your palette */
.chart-header .select, .chart-toolbar .select{
  appearance:none; background:var(--card); color:var(--fg);
  border:1px solid var(--card-border); border-radius:10px;
  padding:.45rem .9rem; font-size:.9rem; line-height:1;
  box-shadow: var(--shadow-sm);
}
.chart-header .select:focus, .chart-toolbar .select:focus{
  outline:2px solid var(--brand); outline-offset:2px;
}
/* ===== Triage Table (sleek) ===== */
.table-card{
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}
.table-wrap{ overflow:auto; }
.table{
  width:100%;
  border-collapse: separate;
  border-spacing:0;
}
.table thead th{
  position: sticky; top:0; z-index:1;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
  color: var(--muted);
  font-weight: 600;
  text-align: left;
  font-size: .85rem;
  border-bottom:1px solid var(--card-border);
  padding: .75rem .9rem;
  white-space: nowrap;
}
.table tbody td{
  padding: .75rem .9rem;
  border-bottom:1px solid var(--card-border);
  vertical-align: middle;
}
.table tbody tr:hover{ background: rgba(255,255,255,.02); }

/* chips for attributes */
.attr-chip{
  display:inline-flex; align-items:center; gap:.35rem;
  border:1px solid var(--card-border);
  border-radius:999px; padding:.2rem .5rem;
  font-size:.72rem; color: var(--fg);
  margin: 2px 6px 2px 0;
}
.attr-dot{ width:.5rem; height:.5rem; border-radius:999px; }

/* score bar */
.score-track{ height:.5rem; background: var(--card-border); border-radius:999px; overflow:hidden; }
.score-fill{ height:.5rem; width:0; background: var(--brand); transition: width .25s ease; }

/* status pill */
.status-pill{
  display:inline-flex; align-items:center; gap:.4rem;
  border:1px solid var(--card-border); border-radius:999px;
  padding:.25rem .55rem; font-size:.72rem; font-weight:600;
  color: var(--fg);
}
.status-dot{ width:.55rem; height:.55rem; border-radius:999px; }

/* small utilities */
.cell-muted{ color: var(--muted); font-size:.85rem; }
.nowrap{ white-space:nowrap; }

/* ===== Layout & Sidebar ===== */
.layout { display:grid; grid-template-columns:0 1fr; }
@media (min-width:768px){ .layout{ grid-template-columns:260px 1fr; } }

.content { min-height:100vh; padding:20px 16px; }
@media (min-width:1024px){ .content{ padding:28px; } }

.topbar { position:sticky; top:0; z-index:30; display:flex; align-items:center; gap:12px;
  padding:10px 12px; background:var(--bg); border-bottom:1px solid var(--card-border); }
.hamburger{ background:var(--card); border:1px solid var(--card-border); border-radius:10px; padding:6px 10px; }
.topbar-title{ font-weight:600; }

.sidebar-wrap{ position:sticky; top:0; height:100vh; }
.sidebar{ height:100%; width:260px; padding:18px; background:var(--bg-soft); border-right:1px solid var(--card-border);
  display:flex; flex-direction:column; gap:16px; }
.sidebar-brand{ display:flex; align-items:center; gap:10px; padding:6px 6px 10px; }
.brand-mark{ height:30px; width:30px; border-radius:10px; background:linear-gradient(135deg,var(--brand),var(--brand-2)); box-shadow:var(--shadow-sm); }
.brand-title{ font-weight:700; letter-spacing:.2px; }
.brand-sub{ font-size:.72rem; color:var(--muted); margin-top:-2px; }
.sidebar-nav{ display:flex; flex-direction:column; gap:8px; margin-top:8px; }
.nav-item{ text-align:left; padding:10px 12px; border-radius:12px; background:var(--card); color:var(--fg);
  border:1px solid var(--card-border); transition:transform .15s, box-shadow .2s, border-color .2s; }
.nav-item:hover{ transform:translateY(-1px); box-shadow:var(--shadow-sm); }
.nav-item.active{ border-color:var(--brand); box-shadow:var(--shadow-md); }
.sidebar-foot{ margin-top:auto; font-size:.75rem; color:var(--muted); }

.drawer{ position:fixed; z-index:40; top:0; left:0; height:100vh; width:260px; }
.backdrop{ position:fixed; z-index:30; inset:0; background:rgba(0,0,0,.5); backdrop-filter:blur(2px); }

/* Section headings (crisper) */
.section-title{ font-weight:800; letter-spacing:.2px; font-size:clamp(18px,2vw,22px); }
.section-sub{ color:var(--muted); font-size:.95rem; }

/* ---------- Premium KPI Card ---------- */
.kpi-card{
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid var(--card-border);
  background: var(--card);
  box-shadow: var(--shadow-sm);
  padding: 16px;
  transition: transform .15s ease, box-shadow .25s ease;
}
.kpi-card:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); }

/* gradient accent line */
.kpi-accent{
  position:absolute; inset:0 0 auto 0; height:4px;
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  opacity:.5;
}

/* header */
.kpi-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.kpi-icon{
  height:40px; width:40px; border-radius:12px; display:grid; place-items:center;
  background: linear-gradient(135deg, rgba(96,165,250,.15), rgba(249,168,212,.15));
  border: 1px solid var(--card-border);
  font-size: 1.2rem;
}
.kpi-label{
  margin-left: auto;
  color: var(--muted);
  font-size: .8rem;
  padding: .25rem .55rem;
  border: 1px solid var(--card-border);
  border-radius: 999px;
}

/* body */
.kpi-body{ display:flex; flex-direction:column; gap:8px; }
.kpi-value{ font-size: 2rem; font-weight: 800; letter-spacing: .2px; }
.kpi-meta{ display:flex; align-items:center; gap:10px; }

/* trend */
.trend-pill{
  display:inline-flex; align-items:center; gap:6px;
  padding: .25rem .55rem;
  border-radius: 999px;
  border: 1px solid;
  font-size: .8rem;
  font-weight: 700;
}
.kpi-help{ font-size:.8rem; }


/* Inputs / forms */
.input{
  width:100%; background:var(--card); color:var(--fg);
  border:1px solid var(--card-border); border-radius:12px;
  padding:.6rem .8rem; font-size:.95rem; outline:none;
  box-shadow: var(--shadow-sm);
}
.input:focus{ outline:2px solid var(--brand); outline-offset:2px; }
.form{ display:grid; gap:12px; }
.form-row{ display:grid; gap:6px; }
.form-label{ font-size:.85rem; color:var(--muted); }
.form-error{ color: var(--danger); font-size:.85rem; }
.form-actions{ display:flex; align-items:center; gap:10px; }

/* Auth card/head */
.auth-card{ padding:18px; }
.auth-head{ display:flex; align-items:flex-end; justify-content:space-between; margin-bottom:10px; }
.auth-demo{ font-size:.8rem; }

/* Auth badge */
.auth-wrap{ display:flex; align-items:center; gap:8px; }
.auth-badge{
  display:inline-flex; align-items:center; gap:6px;
  border:1px solid var(--card-border); border-radius:999px;
  padding:.25rem .6rem; font-size:.8rem; color:var(--fg);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.dot{ width:.55rem; height:.55rem; border-radius:999px; }
.dot.green{ background: var(--ok); }
.dot.red{ background: var(--warn); }



/* Extra semantic colors */
:root{
  --white: #ffffff;
  --grey:  #94a3b8; /* slate-400 */
}

/* Row status accent (add the two new ones) */
.row.low::before        { background: var(--ok); }
.row.yellow::before     { background: var(--warn); }
.row.red::before        { background: var(--danger); }
.row.incomplete::before { background: var(--white); box-shadow: inset 0 0 0 1px var(--card-border); }
.row.surveillance::before{ background: var(--grey); }

/* Cancer chips */
.cancer-chip{
  display:inline-flex; align-items:center; gap:.35rem;
  border:1px solid var(--card-border); background: rgba(255,255,255,.03);
  border-radius:999px; padding:.22rem .55rem; font-size:.72rem; margin-right:6px;
}
.cancer-dot{ width:.55rem; height:.55rem; border-radius:999px; }
.cancer-stack{ display:flex; flex-wrap:wrap; align-items:center; gap:6px; }

/* Toolbar (search + filters) */
.table-toolbar{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between;
  padding:10px 14px; border-bottom:1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.toolbar-left, .toolbar-right{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

.input-sm{
  width:220px; background:var(--card); color:var(--fg);
  border:1px solid var(--card-border); border-radius:10px;
  padding:.45rem .6rem; font-size:.9rem; outline:none;
}
.input-sm:focus{ outline:2px solid var(--brand); outline-offset:2px; }
.select-sm{ composes: input-sm; width:auto; }

/* Status legend (optional) */
.legend{ display:flex; flex-wrap:wrap; align-items:center; gap:10px; color: var(--muted); font-size:.8rem; }
.legend .dot{ width:.6rem; height:.6rem; border-radius:999px; display:inline-block; }
.legend .low{ background: var(--ok); }
.legend .yellow{ background: var(--warn); }
.legend .red{ background: var(--danger); }
.legend .incomplete{ background: var(--white); box-shadow: inset 0 0 0 1px var(--card-border); }
.legend .surveillance{ background: var(--grey); }


/* Drawer / slide-over */
.drawer-backdrop{
  position:fixed; inset:0; z-index:60; background:rgba(0,0,0,.45); backdrop-filter: blur(2px);
  display:flex; justify-content:flex-end;
}
.drawer-panel{
  width:min(560px, 92vw); height:100vh; background:var(--card); color:var(--fg);
  border-left:1px solid var(--card-border); box-shadow: var(--shadow-md);
  display:flex; flex-direction:column; overflow:auto;
}
.drawer-head{
  display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
  padding:16px; border-bottom:1px solid var(--card-border);
}
.drawer-title{ font-size:1.2rem; font-weight:800; }
.drawer-sub{ color:var(--muted); font-size:.9rem; margin-top:2px; }
.drawer-sec{ padding:16px; border-bottom:1px solid var(--card-border); }
.drawer-h3{ font-weight:800; margin-bottom:10px; }
.drawer-h4{ font-weight:700; margin:10px 0 6px; }
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.grid-3{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }
.kv{ display:grid; grid-template-columns:120px 1fr; gap:8px; align-items:center; }
.kv-k{ color:var(--muted); font-size:.85rem; }
.kv-v{ font-size:.95rem; }
.chip-row{ display:flex; flex-wrap:wrap; gap:6px; margin-top:6px; }
.chip{ border:1px solid var(--card-border); background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06)); border-radius:999px; padding:.22rem .6rem; font-size:.75rem; }
.bullets{ padding-left:1rem; }
.bullets li{ margin:2px 0; }
.mt-1{ margin-top:.5rem; }


.table-footer{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 14px; border-top:1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.pager{ display:flex; align-items:center; gap:6px; }
.pager-info{ min-width:64px; text-align:center; }

/* KPI card shell */
.kpi-card{
  position: relative;
  padding: 16px;
  border-radius: 16px;
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow-sm);
  display: grid;
  gap: 10px;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.kpi-card.card-click{ cursor: pointer; }
.kpi-card.card-click:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in oklab, var(--brand) 25%, var(--card-border));
}

/* optional span (on large screens) */
@media (min-width: 1024px){
  .kpi-span-2{ grid-column: span 2 / span 2; }
}

/* tiny top accent */
.kpi-accent{
  position:absolute; top:-1px; left:-1px; right:-1px; height:3px;
  border-top-left-radius:16px; border-top-right-radius:16px;
}

/* header */
.kpi-head{
  display:flex; align-items:center; justify-content:space-between;
}
.kpi-icon{
  font-size: 1.4rem; line-height:1;
}
.kpi-label{
  margin-left:auto;
  color: var(--muted);
  font-size: .8rem;
  font-weight: 600;
  letter-spacing: .02em;
}

/* body */
.kpi-body{
  display:flex; align-items:flex-end; justify-content:space-between; gap:12px;
}
.kpi-value-wrap{ display:flex; flex-direction:column; }
.kpi-value{
  font-size: 1.8rem;
  font-weight: 800;
  letter-spacing: -0.01em;
}
.kpi-subvalue{
  margin-top: 2px;
  font-size: .9rem;
  color: var(--muted);
}

/* meta line */
.kpi-meta{
  display:flex; align-items:center; gap:8px;
}
.trend-pill{
  border:1px solid currentColor;
  border-radius: 999px;
  padding: .2rem .55rem;
  font-size: .75rem;
  font-weight: 700;
  line-height: 1;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.kpi-help{
  font-size: .75rem;
}

/* subtle hover ring for accessibility */
.kpi-card:focus-visible{
  outline: 2px solid var(--brand);
  outline-offset: 2px;
}

/* table page */
/* Your existing palette + chips + toolbar (unchanged) */

/* Row status accent (no green "low" used) */
.row.low::before        { background: var(--ok); } /* safe to keep */
.row.yellow::before     { background: var(--warn); }
.row.red::before        { background: var(--danger); }
.row.incomplete::before { background: var(--white); box-shadow: inset 0 0 0 1px var(--card-border); }
.row.surveillance::before{ background: var(--grey); }

/* Cancer chips */
.cancer-chip{
  display:inline-flex; align-items:center; gap:.35rem;
  border:1px solid var(--card-border); background: rgba(255,255,255,.03);
  border-radius:999px; padding:.22rem .55rem; font-size:.72rem; margin-right:6px;
}
.cancer-dot{ width:.6rem; height:.6rem; border-radius:999px; }
.cancer-stack{ display:flex; flex-wrap:wrap; align-items:center; gap:6px; }

/* Toolbar */
.table-toolbar{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between;
  padding:10px 14px; border-bottom:1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.toolbar-left, .toolbar-right{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.input-sm{
  width:220px; background:var(--card); color:var(--fg);
  border:1px solid var(--card-border); border-radius:10px;
  padding:.45rem .6rem; font-size:.9rem; outline:none;
}
.input-sm:focus{ outline:2px solid var(--brand); outline-offset:2px; }

/* Legend (no low) */
.legend{ display:flex; flex-wrap:wrap; align-items:center; gap:10px; color: var(--muted); font-size:.8rem; }
.legend .dot{ width:.6rem; height:.6rem; border-radius:999px; display:inline-block; }
.legend .yellow{ background: var(--warn); }
.legend .red{ background: var(--danger); }
.legend .incomplete{ background: var(--white); box-shadow: inset 0 0 0 1px var(--card-border); }
.legend .surveillance{ background: var(--grey); }

/* ---- Table layout polish ---- */
.table-wrap { overflow-x:auto; }
.table { width:100%; border-collapse:separate; border-spacing:0; }
.table thead th {
  background: rgba(255,255,255,.04);
  border-bottom:1px solid var(--card-border);
  font-size:.78rem; font-weight:600; letter-spacing:.02em; text-transform:uppercase;
  color: var(--muted);
  padding:10px 12px;
}
.table td { padding:10px 12px; vertical-align:top; }

/* Identity cell */
.identity{ display:flex; align-items:center; gap:10px; min-width:180px; }
.avatar{
  width:36px; height:36px; display:flex; align-items:center; justify-content:center;
  border-radius:999px; background:var(--card-border); color:var(--fg); font-weight:600;
}
.id-text .ellipsis{ max-width:220px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Generic helpers */
.nowrap{ white-space:nowrap; }
.ellipsis{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.cell-muted{ color: var(--muted); font-size:.8rem; }

/* Status pill */
.status-pill{
  display:inline-flex; align-items:center; gap:.45rem;
  border:1px solid transparent; padding:.18rem .5rem; border-radius:999px; font-size:.78rem;
  background: rgba(0,0,0,.06);
}
.status-dot{
  width:.6rem; height:.6rem; border-radius:999px; display:inline-block;
}

/* Table footer / pager */
.table-footer{
  display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap;
  gap:10px; padding:10px 14px; border-top:1px solid var(--card-border);
}
.pager{ display:flex; align-items:center; gap:6px; }
.btn-ghost{
  border:1px solid var(--card-border); background:var(--card);
  padding:.3rem .55rem; border-radius:8px; cursor:pointer; color:var(--fg);
}
.btn-ghost:disabled{ opacity:.5; cursor:not-allowed; }


.cancer-dot{
  display:inline-block;         /* ← this makes width/height work */
  width:.6rem;
  height:.6rem;
  border-radius:999px;
  vertical-align:middle;
}


/* layout tweaks for the header actions */
.drawer-actions { display:flex; gap:8px; align-items:center; }

/* alert button style (red accent) */
.btn.btn-alert{
  background: var(--danger);
  color: white;
  border: 1px solid var(--danger);
  padding: .4rem .7rem;
  border-radius: 8px;
}
.btn.btn-alert:hover{ filter: brightness(.95); }

/* KV rows (if not already styled) */
.kv{ display:flex; gap:10px; margin-bottom:6px; }
.kv-k{ width: 44%; max-width:210px; color: var(--muted); }
.kv-v{ flex:1; }

/* Major Dx */
.major-dx{
  border:1px solid var(--card-border);
  border-radius:10px;
  padding:.6rem .7rem;
  background: rgba(255,255,255,.03);
}

/* Risk profile list */
.rp-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; }
.rp-item{ display:grid; grid-template-columns: 14px 1fr 1fr auto; gap:10px; align-items:center; }
.rp-dot{
  width:10px; height:10px; border-radius:999px; display:inline-block;
}
.rp-label{ font-weight:500; }
.rp-bar{
  height:8px; background: var(--card-border);
  border-radius: 999px; overflow:hidden;
}
.rp-fill{ height:100%; }

/* chips/rows already match your style; re-using .chip, .chip-row, .bullets, etc. */


.map-card{ border:1px solid var(--card-border); border-radius:16px; overflow:hidden; background:var(--card); }
.map-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 14px; border-bottom:1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.map-wrap{ height: 420px; width: 100%; }

/* Tiny colored legend dots */
.map-legend{ display:flex; gap:12px; flex-wrap:wrap; color:var(--muted); font-size:.85rem; }
.mld{ display:inline-block; width:.6rem; height:.6rem; border-radius:999px; vertical-align:middle; }
.mld-yellow{ background: var(--warn); }
.mld-red{ background: var(--danger); }
.mld-grey{ background: var(--grey); }
.mld-white{ background: var(--white); box-shadow: inset 0 0 0 1px var(--card-border); }

/* Leaflet div-icon circular dot */
.pm-dot{
  display:inline-block; width:14px; height:14px; border-radius:999px;
  box-shadow: 0 0 0 1px rgba(0,0,0,.12);
}
.pm-divicon{ /* keep empty to avoid default img issues */ }

/* Popup styling */
.leaflet-popup-content-wrapper{ border-radius:12px; }
.popup{ min-width: 200px; }
.popup-title{ font-weight:700; }
.popup-id{ color: var(--muted); font-weight:400; }
.popup-sub, .popup-row{ font-size:.9rem; margin-top:4px; }



/* patients-map.css */

/* Badge container */
.pm-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font: 600 11px/1.1 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #111;
  background: #fff;
  border-radius: 12px;
  padding: 2px 6px;
  box-shadow: 0 2px 6px rgba(0,0,0,.25), 0 0 0 1px rgba(0,0,0,.35);
}
.dark .pm-badge {
  background: #0f172a;
  color: #e2e8f0;
}

/* Status dot */
.pm-badge-dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  box-shadow: 0 0 0 1px rgba(0,0,0,.35);
}
