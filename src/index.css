@import "tailwindcss";

/* ==== DARK THEME BY DEFAULT (matches landing) ==== */
:root {
  --bg: #0b1020;           /* deep canvas */
  --bg-soft: #0f172a;      /* slate-900 */
  --fg: #e2e8f0;           /* slate-200 */
  --muted: #94a3b8;        /* slate-400 */

  --card: #0b1220;         /* near slate-950 */
  --card-border: #1f2937;  /* slate-800 */

  --brand: #60a5fa;        /* blue-400 */
  --brand-2: #f9a8d4;      /* pink-300 */

  --ok:#22c55e; --warn:#fbbf24; --danger:#ef4444;

  --radius: 16px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.28), 0 1px 1px rgba(0,0,0,.16);
  --shadow-md: 0 8px 20px rgba(3,7,18,.35);
  --shadow-lg: 0 22px 50px rgba(3,7,18,.48);
}

/* Optional light set if you toggle later */
.light {
  --bg: #f8fafc; --bg-soft:#ffffff; --fg:#0f172a; --muted:#475569;
  --card:#ffffff; --card-border:#e2e8f0;
  --brand:#2563eb; --brand-2:#f472b6;
  --ok:#16a34a; --warn:#f59e0b; --danger:#dc2626;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.08), 0 1px 1px rgba(0,0,0,.06);
  --shadow-md: 0 8px 20px rgba(2,6,23,.12);
  --shadow-lg: 0 22px 50px rgba(2,6,23,.18);
}

/* === GLOBAL BACKGROUND FAILSAFE (kills accidental white bg) === */
html, body, #root { height: 100%; }
html, body, #root { background: var(--bg) !important; color: var(--fg); }

/* Cinematic page background (soft gradients over deep canvas) */
.app-bg {
  min-height: 100%;
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(96,165,250,.14), transparent 60%),
    radial-gradient(900px 500px at 120% 10%, rgba(249,168,212,.12), transparent 50%),
    var(--bg);
  color: var(--fg);
}

/* Surfaces & cards */
.surface { background: var(--bg-soft); }
.card { background: var(--card); border: 1px solid var(--card-border); border-radius: var(--radius); box-shadow: var(--shadow-sm); }
.card-hover:hover { box-shadow: var(--shadow-md); transform: translateY(-1px); transition: all .25s ease; }
.muted { color: var(--muted); }
.hr-line { height:1px; background: var(--card-border); margin: 24px 0; }

/* Buttons */
.btn { border:1px solid var(--card-border); border-radius: 12px; padding:.5rem .75rem; transition: all .2s; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.1)); color: var(--fg); }
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn-primary { border-color: transparent; background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#0b1220; font-weight:600; }

/* Dashboard hero (NO white backgrounds) */
.section { max-width: 1200px; margin: 0 auto; padding: 24px 16px; }
.dash-hero {
  position: relative; overflow: hidden; border-radius: 20px;
  border: 1px solid var(--card-border); background: var(--bg-soft); box-shadow: var(--shadow-lg);
}
.dash-hero-media {
  position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover;
  filter: saturate(1.05) contrast(1.05) brightness(.85);
  opacity: .28; pointer-events: none;
}
.dash-hero-overlay { position: relative; z-index: 2; padding: clamp(20px, 4vw, 48px); display: grid; gap: 16px; }
.dash-hero-tag { display:inline-flex; gap:.4rem; align-items:center; border:1px solid var(--card-border); border-radius:999px; padding:.25rem .6rem; font-size:.75rem; color:var(--muted); backdrop-filter: blur(6px); background: rgba(0,0,0,.2); }
.dash-hero-title { font-size: clamp(24px, 4.5vw, 44px); font-weight: 700; letter-spacing: .2px; }
.dash-hero-sub { color: var(--muted); max-width: 65ch; }

/* Triage (keep your improved pills) */
.triage-grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:.75rem;}
@media (min-width:640px){.triage-grid{grid-template-columns:repeat(2,minmax(0,1fr));}}
@media (min-width:1024px){.triage-grid{grid-template-columns:repeat(3,minmax(0,1fr));}}
.triage-pill{display:flex;align-items:center;gap:.6rem;border:1px solid var(--card-border);border-radius:999px;background:var(--card);padding:.55rem .8rem;box-shadow:var(--shadow-sm);transition:transform .15s,box-shadow .2s,border-color .2s;cursor:pointer}
.triage-pill:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.triage-pill[data-checked="true"]{border-color:var(--brand)}
.triage-dot{width:.65rem;height:.65rem;border-radius:999px;flex:0 0 auto}
.badge-soft{border:1px solid var(--card-border);border-radius:999px;padding:.15rem .45rem;font-size:.65rem;color:var(--muted)}
.progress-track{height:.5rem;background:var(--card-border);border-radius:999px;overflow:hidden}
.progress-fill{height:.5rem;background:var(--brand);transition:width .25s ease}

.select {
  appearance: none;
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--card-border);
  border-radius: 10px;
  padding: .5rem .9rem;
  font-size: .9rem;
  line-height: 1;
  box-shadow: var(--shadow-sm);
}
.select:focus { outline: 2px solid var(--brand); outline-offset: 2px; }
.select-wrap { position: relative; }
.select-wrap::after {
  content: "â–¾";
  position: absolute; right: .6rem; top: 50%; transform: translateY(-50%);
  pointer-events: none; color: var(--muted); font-size: .8rem;
}
.toolbar { display:flex; gap:.5rem; align-items:center; }

/* ---------- Sleek Chart Card ---------- */
.chart-card{
  position: relative;
  border-radius: var(--radius);
  background: var(--card);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: box-shadow .25s ease, transform .2s ease;
}
.chart-card:hover{ box-shadow: var(--shadow-md); transform: translateY(-1px); }

/* subtle gradient accent at top */
.chart-accent{
  position:absolute; inset:0 0 auto 0; height:4px;
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  opacity:.45;
}

/* header */
.chart-header{
  display:flex; align-items:flex-start; justify-content:space-between; gap:.75rem;
  border-bottom: 1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
}
.chart-titles .section-title{ font-weight:700; letter-spacing:.2px; }
.chart-actions{ display:flex; gap:.5rem; align-items:center; }

/* toolbar */
.chart-toolbar{
  border-bottom: 1px solid var(--card-border);
  background: linear-gradient(180deg, rgba(255,255,255,.01), rgba(0,0,0,.04));
}

/* body area */
.chart-body{
  position: relative;
  display:block;
}

/* footer */
.chart-footer{
  border-top:1px solid var(--card-border);
  font-size:.85rem;
  color: var(--muted);
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
}

/* loading skeleton */
.skeleton{
  height:100%; display:grid; align-content:end; gap:10px;
  --sk: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
  background: repeating-linear-gradient(
    to top,
    transparent 0,
    transparent 6px,
    rgba(255,255,255,.02) 7px,
    transparent 14px
  );
  border-radius: 8px;
  overflow: hidden;
}
.sk-bar{
  height: 12px; width: 100%;
  background: rgba(255,255,255,.04);
  border-radius: 999px;
  position: relative;
  overflow:hidden;
}
.sk-bar::after{
  content:""; position:absolute; inset:0;
  background: var(--sk); animation: sk 1.2s linear infinite;
}
@keyframes sk { from{ transform: translateX(-100%);} to{ transform: translateX(100%);} }

/* empty state */
.chart-empty{
  height:100%; display:grid; place-items:center; gap:.5rem;
  color: var(--muted);
}
.empty-dot{
  width:10px; height:10px; border-radius:999px; background: var(--card-border);
}

/* compact control inputs align with your palette */
.chart-header .select, .chart-toolbar .select{
  appearance:none; background:var(--card); color:var(--fg);
  border:1px solid var(--card-border); border-radius:10px;
  padding:.45rem .9rem; font-size:.9rem; line-height:1;
  box-shadow: var(--shadow-sm);
}
.chart-header .select:focus, .chart-toolbar .select:focus{
  outline:2px solid var(--brand); outline-offset:2px;
}
/* ===== Triage Table (sleek) ===== */
.table-card{
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}
.table-wrap{ overflow:auto; }
.table{
  width:100%;
  border-collapse: separate;
  border-spacing:0;
}
.table thead th{
  position: sticky; top:0; z-index:1;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
  color: var(--muted);
  font-weight: 600;
  text-align: left;
  font-size: .85rem;
  border-bottom:1px solid var(--card-border);
  padding: .75rem .9rem;
  white-space: nowrap;
}
.table tbody td{
  padding: .75rem .9rem;
  border-bottom:1px solid var(--card-border);
  vertical-align: middle;
}
.table tbody tr:hover{ background: rgba(255,255,255,.02); }

/* chips for attributes */
.attr-chip{
  display:inline-flex; align-items:center; gap:.35rem;
  border:1px solid var(--card-border);
  border-radius:999px; padding:.2rem .5rem;
  font-size:.72rem; color: var(--fg);
  margin: 2px 6px 2px 0;
}
.attr-dot{ width:.5rem; height:.5rem; border-radius:999px; }

/* score bar */
.score-track{ height:.5rem; background: var(--card-border); border-radius:999px; overflow:hidden; }
.score-fill{ height:.5rem; width:0; background: var(--brand); transition: width .25s ease; }

/* status pill */
.status-pill{
  display:inline-flex; align-items:center; gap:.4rem;
  border:1px solid var(--card-border); border-radius:999px;
  padding:.25rem .55rem; font-size:.72rem; font-weight:600;
  color: var(--fg);
}
.status-dot{ width:.55rem; height:.55rem; border-radius:999px; }

/* small utilities */
.cell-muted{ color: var(--muted); font-size:.85rem; }
.nowrap{ white-space:nowrap; }

/* ===== Layout & Sidebar ===== */
.layout { display:grid; grid-template-columns:0 1fr; }
@media (min-width:768px){ .layout{ grid-template-columns:260px 1fr; } }

.content { min-height:100vh; padding:20px 16px; }
@media (min-width:1024px){ .content{ padding:28px; } }

.topbar { position:sticky; top:0; z-index:30; display:flex; align-items:center; gap:12px;
  padding:10px 12px; background:var(--bg); border-bottom:1px solid var(--card-border); }
.hamburger{ background:var(--card); border:1px solid var(--card-border); border-radius:10px; padding:6px 10px; }
.topbar-title{ font-weight:600; }

.sidebar-wrap{ position:sticky; top:0; height:100vh; }
.sidebar{ height:100%; width:260px; padding:18px; background:var(--bg-soft); border-right:1px solid var(--card-border);
  display:flex; flex-direction:column; gap:16px; }
.sidebar-brand{ display:flex; align-items:center; gap:10px; padding:6px 6px 10px; }
.brand-mark{ height:30px; width:30px; border-radius:10px; background:linear-gradient(135deg,var(--brand),var(--brand-2)); box-shadow:var(--shadow-sm); }
.brand-title{ font-weight:700; letter-spacing:.2px; }
.brand-sub{ font-size:.72rem; color:var(--muted); margin-top:-2px; }
.sidebar-nav{ display:flex; flex-direction:column; gap:8px; margin-top:8px; }
.nav-item{ text-align:left; padding:10px 12px; border-radius:12px; background:var(--card); color:var(--fg);
  border:1px solid var(--card-border); transition:transform .15s, box-shadow .2s, border-color .2s; }
.nav-item:hover{ transform:translateY(-1px); box-shadow:var(--shadow-sm); }
.nav-item.active{ border-color:var(--brand); box-shadow:var(--shadow-md); }
.sidebar-foot{ margin-top:auto; font-size:.75rem; color:var(--muted); }

.drawer{ position:fixed; z-index:40; top:0; left:0; height:100vh; width:260px; }
.backdrop{ position:fixed; z-index:30; inset:0; background:rgba(0,0,0,.5); backdrop-filter:blur(2px); }

/* Section headings (crisper) */
.section-title{ font-weight:800; letter-spacing:.2px; font-size:clamp(18px,2vw,22px); }
.section-sub{ color:var(--muted); font-size:.95rem; }

/* ---------- Premium KPI Card ---------- */
.kpi-card{
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid var(--card-border);
  background: var(--card);
  box-shadow: var(--shadow-sm);
  padding: 16px;
  transition: transform .15s ease, box-shadow .25s ease;
}
.kpi-card:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); }

/* gradient accent line */
.kpi-accent{
  position:absolute; inset:0 0 auto 0; height:4px;
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  opacity:.5;
}

/* header */
.kpi-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.kpi-icon{
  height:40px; width:40px; border-radius:12px; display:grid; place-items:center;
  background: linear-gradient(135deg, rgba(96,165,250,.15), rgba(249,168,212,.15));
  border: 1px solid var(--card-border);
  font-size: 1.2rem;
}
.kpi-label{
  margin-left: auto;
  color: var(--muted);
  font-size: .8rem;
  padding: .25rem .55rem;
  border: 1px solid var(--card-border);
  border-radius: 999px;
}

/* body */
.kpi-body{ display:flex; flex-direction:column; gap:8px; }
.kpi-value{ font-size: 2rem; font-weight: 800; letter-spacing: .2px; }
.kpi-meta{ display:flex; align-items:center; gap:10px; }

/* trend */
.trend-pill{
  display:inline-flex; align-items:center; gap:6px;
  padding: .25rem .55rem;
  border-radius: 999px;
  border: 1px solid;
  font-size: .8rem;
  font-weight: 700;
}
.kpi-help{ font-size:.8rem; }
